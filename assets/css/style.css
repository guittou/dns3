
:root{
  /* layout */
  --content-max-width: 1100px;
  --edge-offset: 12px;
  --logo-height: 70px;
  --header-height: 120px;
  --footer-height: 56px;

  /* separator / tabs */
  --separator-height: 6px;
  --separator-color: #2c3e50;
  --tab-underline: #B88E22;
  --tab-accent: #333;
  --tab-text: #1F2E3B;

  /* bandeau title sizing */
  --bandeau-title-size: 2.2rem;
  --bandeau-title-size-sm: 1.6rem;

  /* tab font sizing */
  --bandeau-tab-font-size: 1.15rem;
  --bandeau-tab-font-size-sm: 1.05rem;

  /* top padding for title inside bandeau_content */
  --bandeau-content-padding-top: 10px;

  /* palette */
  --brand-color: #e5ebef;
  --text-on-brand: #1F2E3B;
}

/* Reset minimal + box-model */
* { box-sizing: border-box; margin: 0; padding: 0; }

/* Assure that HTML / Body fill the viewport and disable global scroll */
html, body { height: 100%; }
body {
  margin: 0;
  height: 100vh;
  overflow: hidden; /* scroll only in .page-body */
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
  background: #fafafa;
  color: #222;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Header fixed in top, no side padding so elements at edges are true edges */
.entete_fixee {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  height: var(--header-height);
  background: var(--brand-color);
  color: var(--text-on-brand);
  z-index: 1000;
  /* shadow removed */
}

/* Full container: relative so absolute children are inside header (which spans viewport) */
.bandeau_full {
  position: relative;
  width: 100%;
  min-height: var(--header-height);
}

/* LOGO */
.bandeau_logo {
  position: absolute;
  left: 0;
  top: 50%;
  transform: translateY(-50%);
  padding-left: var(--edge-offset);
  z-index: 1010;
}
.bandeau_logo_img {
  height: var(--logo-height);
  display: block;
  object-fit: contain;
}

/* RIGHT: auth area absolute right:0 */
.bandeau_droite {
  position: absolute;
  right: 0;
  top: 50%;
  transform: translateY(-50%);
  padding-right: var(--edge-offset);
  display: flex;
  align-items: center;
  gap: 12px;
  z-index: 1010;
}

/* CENTRE (contenu aligné and centered) - title at top */
.bandeau_content {
  max-width: var(--content-max-width);
  margin: 0 auto;
  padding: var(--bandeau-content-padding-top) 0 0 0;
  display: flex;
  align-items: flex-start;
  justify-content: center;
  min-height: var(--header-height);
}

.bandeau_center {
  display: flex;
  flex-direction: column;
  align-items: center;
  width: 100%;
}
.bandeau_title {
  color: var(--text-on-brand);
  font-size: var(--bandeau-title-size);
  font-weight: 700;
  margin: 0;
  padding-bottom: 6px;
  text-align: center;
}
@media (max-width: 880px) {
  .bandeau_title {
    font-size: var(--bandeau-title-size-sm);
  }
}

/* ---------------------------------------------------------
   Separator (full width) + tabs positioned at bottom of header
   --------------------------------------------------------- */

/* Separator: full-width across the banner, sits at bottom of header */
.bandeau_separator {
  position: absolute;
  left: 0;
  right: 0;
  bottom: 0;
  height: var(--separator-height);
  background: var(--separator-color);
  z-index: 1005;
  box-sizing: border-box;
}

/* Tabs row: centered horizontally and sized to content width so tabs are centered visually.
   The separator remains full-viewport width; underline is positioned precisely to overlay it. */
.bandeau_onglets_row {
  position: absolute;
  left: 50%;
  transform: translateX(-50%);
  bottom: 0;
  width: var(--content-max-width);
  max-width: calc(100% - (var(--edge-offset) * 2));
  height: calc(var(--separator-height) + 36px);
  display: flex;
  justify-content: center;
  align-items: flex-end;
  z-index: 1015;
  padding: 0;
  box-sizing: border-box;
}

/* Tabs list inside centered row */
.bandeau_onglets {
  display: flex;
  gap: 18px;
  list-style: none;
  margin: 0;
  padding: 0 6px;
  align-items: center;
  box-sizing: border-box;
}

/* Individual tab */
.bandeau_onglet {
  display: inline-block;
  padding: 8px 12px;
  margin-bottom: var(--separator-height);
  color: rgba(31,46,59,0.95);
  text-decoration: none;
  font-weight: 600;
  position: relative;
  border-radius: 6px;
  background: transparent;
  font-size: var(--bandeau-tab-font-size);
  line-height: 1;
}
.bandeau_onglet:hover {
  color: var(--tab-accent);
  background: rgba(0,0,0,0.03);
}
.bandeau_onglet.active {
  color: var(--tab-text);
}

/* Remove pseudo-element underline */
.bandeau_onglet::after { display: none !important; }

/* Dynamic underline element (positioned by JS) */
/* Transition removed to disable left->right animation */
.bandeau_active_underline {
  position: absolute;
  bottom: 0;
  left: 0;
  width: 0;
  height: var(--separator-height);
  background: var(--tab-underline);
  z-index: 1025;
  pointer-events: none;
  /* transition: left 150ms ease, width 150ms ease;  <-- removed */
  /* will-change: left, width;                              <-- removed */
  box-sizing: border-box;
}

/* Page-body (scrollable area) between header and footer */
.page-body {
  position: absolute;
  top: var(--header-height);
  left: 0;
  right: 0;
  bottom: var(--footer-height);
  overflow: auto;
  -webkit-overflow-scrolling: touch;
  background: transparent;
}

/* Make .main-content size to the content (table) but never exceed viewport */
.main-content {
  display: block;
  min-width: 1100px;
  width: max-content;              /* size to content (table) */
  max-width: calc(100vw - 40px);   /* but never exceed viewport minus page paddings */
  margin: 20px auto;
  padding: 20px;
  box-sizing: border-box;
  background: #fff;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0,0,0,0.06);
  overflow-x: auto;                /* allow horizontal scroll when table > viewport */
}


/* Footer fixed at bottom */
.footer {
  position: fixed;
  left: 0;
  right: 0;
  bottom: 0;
  height: var(--footer-height);
  background: var(--brand-color);
  color: var(--text-on-brand);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1000;
}

/* Footer separator: same trait as header separator (placed at top of the footer) */
.footer_separator {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: var(--separator-height);
  background: var(--separator-color);
  z-index: 1005;
  box-sizing: border-box;
}

/* Footer container centered */
.footer-container {
  max-width: var(--content-max-width);
  width: 100%;
  margin: 0 auto;
  text-align: center;
  padding-top: 6px;
}

/* Buttons */
.btn {
  padding: 8px 14px;
  border-radius: 6px;
  color: #fff;
  text-decoration: none;
  font-weight: 600;
  display: inline-block;
}
.btn-login { background: #3498db; }
.btn-logout { background: #e74c3c; }

/* ---------------------------------------------------------
   Styles spécifiques à la page de login (login-container)
   --------------------------------------------------------- */

.login-container {
  max-width: 480px;
  margin: 20px auto;
  background: #fff;
  padding: 24px;
  border-radius: 8px;
  box-shadow: 0 8px 24px rgba(0,0,0,0.06);
  font-family: inherit;
}

.login-container h1 {
  margin: 0 0 16px 0;
  font-size: 1.6rem;
  text-align: center;
  color: #1F2E3B;
}
.form-group { margin-bottom: 12px; }
.form-group label { display: block; margin-bottom: 6px; font-weight: 600; color: #333; }
.form-group input, .form-group select {
  width: 100%;
  padding: 10px 12px;
  border: 1px solid #d7dfe6;
  border-radius: 6px;
  font-size: 0.98rem;
  background: #fff;
  color: #222;
}
.btn-submit {
  display: block;
  width: 100%;
  background: #3498db;
  color: #fff;
  padding: 10px 12px;
  border-radius: 6px;
  border: none;
  font-weight: 700;
  cursor: pointer;
}
.error-message {
  background: #ffecec;
  color: #b00020;
  border: 1px solid #f1c0c0;
  padding: 10px;
  margin-bottom: 12px;
  border-radius: 6px;
}
.success-message {
  background: #e9f7ef;
  color: #1a7f3b;
  border: 1px solid #c6eccf;
  padding: 10px;
  margin-bottom: 12px;
  border-radius: 6px;
}

/* ---------------------------------------------------------
   DNS Management UI Styles
   --------------------------------------------------------- */

/* DNS message display */
.dns-message {
  padding: 12px;
  margin-bottom: 16px;
  border-radius: 6px;
  font-weight: 600;
  display: none;
}
.dns-message-success {
  background: #e9f7ef;
  color: #1a7f3b;
  border: 1px solid #c6eccf;
}
.dns-message-error {
  background: #ffecec;
  color: #b00020;
  border: 1px solid #f1c0c0;
}
.dns-message-info {
  background: #e3f2fd;
  color: #0d47a1;
  border: 1px solid #90caf9;
}

/* DNS toolbar */
.dns-toolbar {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 20px;
  gap: 12px;
  flex-wrap: wrap;
}

.dns-filters {
  display: flex;
  gap: 12px;
  flex: 1;
  flex-wrap: wrap;
  align-items: center;
}

.dns-filters input,
.dns-filters select {
  padding: 8px 12px;
  border: 1px solid #d7dfe6;
  border-radius: 6px;
  font-size: 0.95rem;
}

.dns-filters input[type="text"] {
  min-width: 200px;
  flex: 1;
}

/* DNS table */
.dns-table-container {
  overflow-x: auto;
  border-radius: 8px;
  border: 1px solid #e0e0e0;
}

.dns-table {
  width: 100%;
  border-collapse: collapse;
  background: #fff;
}

.dns-table thead {
  background: #f5f5f5;
  border-bottom: 2px solid #e0e0e0;
}

.dns-table th {
  padding: 12px;
  text-align: left;
  font-weight: 700;
  color: #333;
  font-size: 0.9rem;
}

.dns-table td {
  padding: 10px 12px;
  border-bottom: 1px solid #f0f0f0;
  font-size: 0.9rem;
}

.dns-table tbody tr:hover {
  background: #fafafa;
}

/* Status badges */
.status-badge {
  display: inline-block;
  padding: 4px 10px;
  border-radius: 12px;
  font-size: 0.85rem;
  font-weight: 600;
}

.status-active {
  background: #e9f7ef;
  color: #1a7f3b;
}

.status-deleted {
  background: #ffecec;
  color: #b00020;
}

/* Hide ID column (still accessible via data attribute) */
.col-id {
  display: none !important;
}

/* Buttons */
.btn-small {
  padding: 6px 10px;
  border: none;
  border-radius: 4px;
  font-size: 0.85rem;
  font-weight: 600;
  cursor: pointer;
  margin-right: 4px;
  transition: background 0.2s;
}

.btn-create {
  padding: 10px 16px;
  background: #3498db;
  color: #fff;
  border: none;
  border-radius: 6px;
  font-weight: 700;
  cursor: pointer;
  font-size: 0.95rem;
}

.btn-create:hover {
  background: #2980b9;
}

.btn-edit {
  background: #3498db;
  color: #fff;
}

.btn-edit:hover {
  background: #2980b9;
}

.btn-status {
  background: #f39c12;
  color: #fff;
}

.btn-status:hover {
  background: #e67e22;
}

.btn-delete {
  background: #e74c3c;
  color: #fff;
}

.btn-delete:hover {
  background: #c0392b;
}

/* Modal */
.dns-modal {
  display: none;
  position: fixed;
  z-index: 2000;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  overflow: auto;
  background-color: rgba(0, 0, 0, 0.5);
}

.dns-modal-content {
  background-color: #fff;
  margin: 5% auto;
  padding: 24px;
  border-radius: 8px;
  width: 90%;
  max-width: 900px;
  max-height: calc(100vh - 80px);
  display: flex;
  flex-direction: column;
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.2);
}

/* Vertical centering when modal is open */
.dns-modal.open {
  display: flex !important;
  align-items: center;
  justify-content: center;
  padding: 20px;
  box-sizing: border-box;
}

.dns-modal.open .dns-modal-content {
  margin: 0;
  max-height: calc(100vh - 80px);
  overflow: auto;
}

.dns-modal-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 20px;
}

.dns-modal-header h2 {
  margin: 0;
  color: #1F2E3B;
  text-align: center;
  width: 100%;
}

.dns-modal-close {
  font-size: 28px;
  font-weight: 700;
  color: #aaa;
  cursor: pointer;
  background: none;
  border: none;
  padding: 0;
  line-height: 1;
}

.dns-modal-close:hover {
  color: #000;
}

/* Two-column layout for modal form */
.modal-two-columns {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 20px;
  margin-bottom: 16px;
}

.modal-column-left {
  display: flex;
  flex-direction: column;
  gap: 0;
}

.modal-column-right {
  display: flex;
  flex-direction: column;
  gap: 0;
}

/* Right column with side comment - make it a flex container */
.modal-side-col {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}

/* Comment wrapper in right column - fills remaining vertical space */
.modal-side-comment {
  flex: 1 1 auto;
  display: flex;
  flex-direction: column;
  overflow: hidden;
  min-height: 100px;
}

/* Comment textarea fills available space and scrolls internally */
.modal-side-comment textarea {
  flex: 1 1 auto;
  resize: none;
  width: 100%;
  overflow: auto;
  min-height: 100px;
}

/* Full-width field for comment (legacy, now unused) */
.modal-full-width {
  width: 100%;
}

/* Responsive: stack columns on small screens */
@media (max-width: 768px) {
  .modal-two-columns {
    grid-template-columns: 1fr;
    gap: 0;
  }
}

.dns-modal-body {
  margin-bottom: 20px;
  overflow-y: auto;
  flex: 1 1 auto;
}

.dns-modal-footer {
  display: flex;
  justify-content: center;
  align-items: center;
  padding-top: 20px;
}

.dns-modal-footer .modal-action-bar {
  display: flex;
  gap: 12px;
  align-items: center;
}

/* Shared modal action button base styles */
.modal-action-button {
  min-width: 120px;
  padding: 10px 16px;
  border: none;
  border-radius: 6px;
  font-weight: 700;
  font-size: 14px;
  cursor: pointer;
  transition: background-color 0.2s ease;
}

/* Button semantic colors */
.btn-submit.modal-action-button {
  background: #27ae60;
  color: #fff;
}

.btn-submit.modal-action-button:hover {
  background: #229954;
}

.btn-cancel.modal-action-button {
  background: #95a5a6;
  color: #fff;
}

.btn-cancel.modal-action-button:hover {
  background: #7f8c8d;
}

.btn-delete.modal-action-button {
  background: #e74c3c;
  color: #fff;
}

.btn-delete.modal-action-button:hover {
  background: #c0392b;
}

/* Responsive: stack buttons vertically on small screens */
@media (max-width: 600px) {
  .dns-modal-footer .modal-action-bar {
    flex-direction: column;
    width: 100%;
  }
  
  .modal-action-button {
    width: 100%;
    min-width: unset;
  }
}

.btn-cancel {
  padding: 10px 16px;
  background: #95a5a6;
  color: #fff;
  border: none;
  border-radius: 6px;
  font-weight: 700;
  cursor: pointer;
}

.btn-cancel:hover {
  background: #7f8c8d;
}

/* Card grid for content sections */
.card-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
  gap: 20px;
  margin-top: 20px;
}

.card {
  background: #fff;
  padding: 20px;
  border-radius: 8px;
  border: 1px solid #e0e0e0;
}

.card h3 {
  margin: 0 0 10px 0;
  color: #1F2E3B;
  font-size: 1.1rem;
}

.card p {
  margin: 0;
  color: #666;
  line-height: 1.6;
}

.content-section {
  margin-bottom: 30px;
}

.content-section h1 {
  color: #1F2E3B;
  margin-bottom: 12px;
}

.content-section h2 {
  color: #1F2E3B;
  margin-bottom: 12px;
  margin-top: 20px;
}

.content-section p {
  line-height: 1.6;
  color: #444;
}

/* ---------------------------------------------------------
   Global Responsive Table Styles
   Applied to all tables in .content-section and .admin-container
   --------------------------------------------------------- */

/* Table container: full width with horizontal scroll if needed */
.content-section .dns-table-container,
.content-section .table-container,
.admin-container .table-container {
  width: 100%;
  max-width: 100%;
  overflow-x: auto;
}

/* NEW: permettre au tableau d'avoir une largeur intrinsèque quand il y a beaucoup de colonnes */
.content-section .dns-table,
.content-section table {
  width: auto;          /* ne pas forcer 100% : laisse la table grandir si besoin */
  min-width: 100%;      /* mais au moins remplir l'espace quand le contenu est petit */
  table-layout: auto;   /* colonnes dimensionnées naturellement selon le contenu */
}

/* Table cells: prevent overflow, allow word wrapping on desktop */
.content-section table th,
.content-section table td,
.admin-container table th,
.admin-container table td {
  word-break: break-word;
  white-space: nowrap;
}

/* Mobile responsive: hide admin columns and allow text wrapping */
@media (max-width: 900px) {
  /* Hide administrative columns on mobile */
  .content-section table th.col-id,
  .content-section table td.col-id,
  .content-section table th.col-actions,
  .content-section table td.col-actions,
  .content-section table th.col-status,
  .content-section table td.col-status,
  .content-section table th.col-requester,
  .content-section table td.col-requester,
  .admin-container table th.col-id,
  .admin-container table td.col-id,
  .admin-container table th.col-actions,
  .admin-container table td.col-actions,
  .admin-container table th.col-status,
  .admin-container table td.col-status,
  .admin-container table th.col-requester,
  .admin-container table td.col-requester {
    display: none;
  }
  
  /* Allow text wrapping in remaining cells on mobile */
  .content-section table th,
  .content-section table td,
  .admin-container table th,
  .admin-container table td {
    white-space: normal;
  }
}

/* responsive adjustments */
@media (max-width: 520px) {
  .login-container { margin: 12px; padding: 18px; }
  .login-container h1 { font-size: 1.25rem; }
  .bandeau_title { font-size: var(--bandeau-title-size-sm); }
  .bandeau_onglet { font-size: var(--bandeau-tab-font-size-sm); margin-bottom: 0; }
  .bandeau_onglets_row { width: calc(100% - 24px); left: 12px; transform: none; }
  .bandeau_separator, .footer_separator { width: 100%; left: 0; transform: none; position: relative; }
  
  .dns-toolbar {
    flex-direction: column;
    align-items: stretch;
  }
  
  .dns-filters {
    flex-direction: column;
  }
  
  .dns-filters input[type="text"] {
    min-width: auto;
    width: 100%;
  }
  
  .dns-table {
    font-size: 0.85rem;
  }
  
  .dns-table th,
  .dns-table td {
    padding: 8px;
  }
  
  .btn-small {
    padding: 4px 8px;
    font-size: 0.8rem;
  }
  
  .dns-modal-content {
    width: 95%;
    margin: 10% auto;
  }
}

/* Zone Modal Fixed Height Behavior */
/* Ensure zone modal maintains constant overall size when switching tabs */
.dns-modal-content, .zone-modal-content { 
  display: flex; 
  flex-direction: column; 
  max-height: calc(100vh - 80px);
  overflow: hidden;
}

.dns-modal-content .dns-modal-body,
.zone-modal-content .dns-modal-body {
  display: flex;
  flex-direction: column;
  overflow: hidden;
  flex: 1 1 auto;
}

.zone-modal-content .tabs {
  flex-shrink: 0;
}

.dns-modal-body, .zone-tab-content, .tab-content { 
  flex: 1 1 auto; 
  overflow: hidden; 
  min-height: 0; 
}

.zone-tab-content {
  overflow-y: auto;
}

.zone-modal-content .tab-content {
  display: flex;
  flex-direction: column;
}

.code-editor, .editor, .ace_editor, .cm-s { 
  height: 100% !important; 
  max-height: 100% !important; 
  box-sizing: border-box; 
}

/* Responsive fallback for zone modal */
@media (max-width: 768px) {
  .dns-modal-content, .zone-modal-content {
    max-height: calc(100vh - 40px);
  }
}

/* Responsive fallback for modal centering on small screens */
@media (max-width: 768px) {
  .dns-modal.open {
    padding: 10px;
  }
  
  .dns-modal.open .dns-modal-content {
    max-height: calc(100vh - 40px);
  }
}

/* ----------------------------------------------------------------
   Editor Tab Internal Scroll Fix
   Ensure textarea/editor fills available space and scrolls internally
   
   These rules override previous rules (specifically line 916's overflow-y: auto)
   to prevent external scrolling on the modal popup. Instead, scrolling occurs
   only within the textarea/editor elements themselves.
   ---------------------------------------------------------------- */

/* Ensure tab containers use flex layout and prevent external scroll */
.dns-modal-content .zone-tab-content,
.dns-modal-content .tab-content,
.dns-modal-content .dns-modal-body {
  display: flex;
  flex-direction: column;
  min-height: 0;
  overflow-y: hidden; /* Prevent external scroll - only child editors should scroll */
}

/* Editor textarea should fill available space and scroll internally */
.dns-modal-content textarea.code-editor, 
.dns-modal-content textarea.editor,
.dns-modal-content .code-editor,
.dns-modal-content .editor {
  flex: 1 1 auto;
  box-sizing: border-box;
  min-height: 0;
  overflow: auto;
  resize: none;
  height: auto;
  max-height: 100%;
}

/* Override previous !important height rules for CodeMirror/ACE to enable flex behavior */
.dns-modal-content .CodeMirror,
.dns-modal-content .ace_editor {
  height: 100% !important; /* Must use !important to override rule: .code-editor { height: 100% !important; } */
  box-sizing: border-box;
  flex: 1 1 auto;
}

/* ----------------------------------------------------------------
   Tab Pane Visibility Fix
   Hide inactive tab panes and only show the active one with flex layout
   ---------------------------------------------------------------- */

/* Hide tab panes by default */
.tab-pane {
  display: none;
  width: 100%;
}

/* Show active tab pane with flex column layout */
.tab-pane.active {
  display: flex;
  flex-direction: column;
}

/* Ensure active tab pane children maintain flex layout */
.tab-pane.active .zone-tab-content,
.tab-pane.active .tab-content,
.tab-pane.active .dns-modal-body {
  display: flex;
  flex-direction: column;
}
